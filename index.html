<!doctype html>
<html>

<head>
    <title>Projeto AR - Tiranossauro</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>

    <script>
        AFRAME.registerComponent('interactable-model', {
            init: function () {
                var el = this.el;
                var scale = el.getAttribute('scale');
                var originalScale = { x: scale.x, y: scale.y, z: scale.z };
                var isScaled = false;

                el.addEventListener('click', function () {
                    if (!isScaled) {
                        el.setAttribute('scale', {
                            x: originalScale.x * 1.4,
                            y: originalScale.y * 1.4,
                            z: originalScale.z * 1.4
                        });
                        isScaled = true;
                    } else {
                        el.setAttribute('scale', originalScale);
                        isScaled = false;
                    }
                });
            }
        });
    </script>
</head>

<body>

    <a-scene embedded arjs="sourceType: webcam;" cursor="rayOrigin: mouse" raycaster="objects: .clickable">

        <a-entity light="type: ambient; color: #BBB; intensity: 6"></a-entity>
        <a-entity light="type: directional; intensity: 10" position="-10 -20 30"></a-entity>

        <a-entity camera></a-entity>

        <a-marker preset="hiro">

            <a-entity class="clickable" interactable-model gltf-model="url(./tiranosaurus.glb)" scale="0.3 0.3 0.3"
                rotation="-90 0 0" position="0 0 0">
            </a-entity>

        </a-marker>

    </a-scene>

</body>

</html>